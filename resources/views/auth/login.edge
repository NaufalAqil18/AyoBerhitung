<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - AyoBerhitung</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #fff; }
        .split-container { display: flex; min-height: 100vh; }
        .left-img { flex: 1; background: #f8f8f8; display: flex; align-items: center; justify-content: center; border-radius: 0 40px 40px 0; }
        .left-img img { max-width: 90%; max-height: 90%; border-radius: 32px; box-shadow: 0 4px 24px #0002; }
        .right-form { flex: 1; display: flex; align-items: center; justify-content: center; }
        .form-card { width: 100%; max-width: 400px; background: #fff; border-radius: 24px; box-shadow: 0 2px 16px #0001; padding: 2.5rem 2rem; }
        .brand-title { font-size: 2rem; font-weight: bold; color: #7ed957; margin-bottom: 0.5rem; }
        .welcome { font-size: 1.1rem; color: #222; margin-bottom: 1.5rem; }
        .btn-toggle { background: none; border: none; position: absolute; right: 1.2rem; top: 50%; transform: translateY(-50%); cursor: pointer; }
        .form-control:focus { border-color: #7ed957; box-shadow: 0 0 0 0.2rem #7ed95733; }
        .btn-main { background: #7ed957; color: #fff; font-weight: 600; border-radius: 24px; border: none; width: 100%; font-size: 1.1rem; }
        .btn-main:hover { background: #5bbd3b; }
        .switch-link { color: #7ed957; text-decoration: none; font-weight: 500; }
        .switch-link:hover { text-decoration: underline; }
        .form-check-input:checked { background-color: #7ed957; border-color: #7ed957; }
    </style>
</head>
<body>
    <div class="split-container">
        <div class="left-img">
            <img src="/images/login.png" alt="AyoBerhitung" />
            <div style="position:absolute; left:2.5rem; bottom:2.5rem; color:#fff; font-size:2rem; font-weight:bold; text-shadow:0 2px 8px #0007;">AyoBerhitung</div>
        </div>
        <div class="right-form">
            <form class="form-card" method="POST" action="/login" autocomplete="off">
                {{ csrfField() }}
                <div class="brand-title text-center">Selamat Datang di Dunia Berhitung!</div>
                <div class="welcome text-center">Ayo masuk dan mulai petualangan berhitungmu!</div>
                @if(flashMessage('loginError'))
                    <div class="alert alert-danger py-2">{{ flashMessage('loginError') }}</div>
                @endif
                <div class="mb-3">
                    <label class="form-label">Email Pengguna</label>
                    <input type="email" name="email" class="form-control" placeholder="Masukkan emailmu ya!" required />
                </div>
                <div class="mb-3 position-relative">
                    <label class="form-label">Kata Sandi</label>
                    <input type="password" name="password" class="form-control" id="passwordInput" placeholder="Tulis kata rahasia kamu!" required />
                    <button type="button" class="btn-toggle" tabindex="-1" onclick="togglePassword()">
                        <span id="eyeIcon">üëÅÔ∏è</span>
                    </button>
                </div>
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="remember" id="rememberMe">
                        <label class="form-check-label" for="rememberMe">Ingat aku?</label>
                    </div>
                    <a href="#" style="font-size:0.95rem; color:#888; text-decoration:none;">Lupa kata rahasiamu?</a>
                </div>
                <button type="submit" class="btn btn-main mb-3">Masuk Sekarang</button>
                <div class="text-center" style="font-size:1rem;">Belum punya akun? <a href="/register" class="switch-link">Daftar</a></div>
            </form>
        </div>
    </div>
    <script>
        function togglePassword() {
            var input = document.getElementById('passwordInput');
            var icon = document.getElementById('eyeIcon');
            if (input.type === 'password') {
                input.type = 'text';
                icon.textContent = 'üôà';
            } else {
                input.type = 'password';
                icon.textContent = 'üëÅÔ∏è';
            }
        }
    </script>
</body>
</html>